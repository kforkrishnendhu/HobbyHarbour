
@{
    Layout = "_CustomerLayout";
}
@model List<OrderItem>
@using System.Globalization

<style>
    .orders {
        margin-bottom: 9px;
        margin-top: 9px;
        height: 100px;
        background-color: #e6cfe2;
        padding: 20px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        transition: box-shadow 0.3s; /* Smooth transition effect for box-shadow */
    }

        /* Highlight effect */
        .orders:hover {
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.3); /* Increase the shadow on hover */
        }
</style>
<div class="container">
    <div class="row" style="margin-bottom: 10px; background-color: #d2b8ce30;">
        <div class="col-md-6" style="border-right: double; border-color:white; padding: 24px">
            <!-- Delivery Address Section -->
            <section class="delivery-address">
                <h4 style="margin-bottom: 10px"><strong>Delivery Address</strong></h4>
                <p>@Html.Raw(Model.FirstOrDefault().Order.ShippingAddress.Replace(",", "<br>"))</p>
            </section>
        </div>
        <div class="col-md-6" style="padding: 24px">
            <!-- Invoice Download Section -->
            <section class="invoice-download">
                <h4 style="margin-bottom: 10px"><strong>More Actions</strong></h4>
                <p style="margin-bottom: 10px">Click the button below to download your invoice.</p>
                <a href="@Url.Action("DownloadInvoice", "CustomerOrder", new { orderId = Model.FirstOrDefault().OrderID })" class="btn btn-primary">Download Invoice</a>
            </section>
        </div>
    </div>
    <h3>Items(@Model.Count)</h3>
    @foreach (var item in Model)
    {
        <a href="@Url.Action("OrderDetails", "CustomerHome", new { itemId = item.OrderItemID })" class="order-link">

            <div class="orders row p-3 mb-3 bg-white">
                <div class="col-md-2" style="text-align: center;">
                    @if (@item.Product.Images != null && @item.Product.Images.Any())
                    {
                        <img src="@item.Product.Images.FirstOrDefault().ImageUrl" class="img-fluid" alt="Product Image" style="max-width: 50px; max-height: 50px; display: block; margin: 0 auto;">
                    }
                    else
                    {
                        <!-- Default image or placeholder when no images are available -->
                        <img src="~/productImages/images/placeholder.png" id="show-img" class="card-img-top">
                    }

                </div>

                <div class="col-md-4" style="text-align: center;">
                    <div class="pl-3">
                        <h5 class="mb-3" style="margin-bottom: 10px">@item.Product.ProductName</h5>
                        @*<p class="mt-3" style="margin-top: 10px">@item.Product.Description</p>*@
                    </div>
                </div>
                <div class="col-md-2" style="text-align: center;">
                    <div class="pl-3">
                        @{
                            var cultureInfo = new CultureInfo("en-IN"); // Change "en-IN" to your desired culture
                            var formatInfo = cultureInfo.NumberFormat;
                        }
                        <p class="mb-0">@item.TotalPrice.ToString("C", formatInfo)</p>
                    </div>
                </div>
                <div class="col-md-4" style="text-align: center;">
                    <div class="pl-3">
                        <h5 class="mb-3"><strong>@item.OrderStatus</strong></h5>
                    </div>
                </div>
            </div>
        </a>
    }
</div>


